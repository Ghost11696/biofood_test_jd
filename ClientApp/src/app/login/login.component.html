<div class="container">
  <h2>Log in</h2>

  <div *ngIf="!isLoggedIn">
    <div class="form-group py-2">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" #f="ngForm">
        <div class="row py-2">
          <div class="col-3">
            <input type="text" [(ngModel)]="firstname" id="firstname" required class="form-control" placeholder="First name:" formControlName="fname">
            <div *ngIf="fname.invalid && (fname.dirty || fname.touched)" class="alert alert-danger">
              <div *ngIf="fname.errors?.['required']">
                First name is required.
              </div>
              <div *ngIf="fname.errors?.['minlength']">
                First name must be at least 4 characters long.
              </div>
            </div>
          </div>
          <div class="col-3">
            <input type="text" [(ngModel)]="lastname" id="lastname" required class="form-control" placeholder="Last name:" formControlName="lname">
            <div *ngIf="lname.invalid && (lname.dirty || lname.touched)" class="alert alert-danger">
              <div *ngIf="lname.errors?.['required']">
                Last name is required.
              </div>
              <div *ngIf="lname.errors?.['minlength']">
                Last name must be at least 4 characters long.
              </div>
            </div>
          </div>
          <div class="col-3">
            <button type="submit" [disabled]="(fname.invalid || lname.invalid)" class="btn btn-primary">
              Log in
            </button>
          </div>
        </div>
        <div class="col-7">
          <div class="alert alert-warning alert-dismissible fade show" *ngIf="f.submitted && isLoginFailed">
            log in failed!<br />{{ errorMessage }}
          </div>
          <div class="alert alert-success alert-dismissible fade show" *ngIf="isLoggedIn">
            log in was successful!
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
